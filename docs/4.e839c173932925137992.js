(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"5AMT":function(e,t,n){"use strict";n.r(t),n.d(t,"AccountModule",(function(){return Z}));var r=n("iInd"),i=n("aI4B"),a=n("8Y7J"),o=n("YD7i"),c=n("7dP1"),h=n("soTd"),s=n("PDjf"),l=n("s7LF"),d=n("Q2Ze"),m=n("e6WT"),b=n("Dxy4"),v=n("Tj54"),u=n("SVse");const g=["form"];function f(e,t){1&e&&a.Ob(0,"span",15)}function p(e,t){1&e&&a.Ob(0,"span",15)}let z=(()=>{class e{constructor(e,t,n,r,a){this.amplifyService=e,this.route=t,this.router=n,this.authService=r,this.notificationService=a,this.user=new i.a,this.loading=!1,this.hidePwd=!0,this.submitted=!1}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}onSubmit(e){this.loginInvalid=!1,this.submitted=!0,this.loading=!0;let t=this.form.controls.username.value,n=this.form.controls.password.value;"guest"===e&&(t="guest",n="anonymous"),this.authService.login(t,n).subscribe(e=>{this.loading=!1,this.router.navigate([this.returnUrl]).then(t=>{t&&(this.loginInvalid=!1,this.notificationService.info("Willkommen zur\xfcck "+e.username))})},e=>{this.loading=!1,this.loginInvalid=!0;let t="unbekannt";switch(e.code){case"NetworkError":t="Keine Verbindung zum Internet";break;case"UserNotFoundException":case"NotAuthorizedException":t="Benutzer oder Passwort falsch"}this.notificationService.error("Fehler beim Anmelden: "+t)})}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(o.b),a.Nb(r.a),a.Nb(r.d),a.Nb(c.a),a.Nb(h.a))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&a.Dc(g,!0),2&e&&a.tc(n=a.cc())&&(t.form=n.first)},decls:31,vars:9,consts:[[1,"login"],[1,"loginCard"],["mat-card-avatar","",1,"glider-animated"],["novalidate",""],["form","ngForm"],["appearance","fill"],["aria-label","benutzer"],["matInput","","ngModel","","type","text","name","username","placeholder","Benutzer","required","","minLength","3","autocomplete","username",3,"ngModel"],["aria-label","passwort"],["matInput","","ngModel","","name","password","placeholder","Passwort","required","","autocomplete","current-password",3,"type","ngModel"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit","name","login","aria-label","Anmelden",3,"disabled","click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"register-link"],["mat-raised-button","","color","primary","type","submit","aria-label","Gast",1,"guest-login",3,"click"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){if(1&e&&(a.Tb(0,"div",0),a.Tb(1,"mat-card",1),a.Tb(2,"mat-card-header"),a.Ob(3,"div",2),a.Tb(4,"mat-card-title"),a.Jc(5,"Anmeldung"),a.Sb(),a.Sb(),a.Tb(6,"mat-card-content"),a.Tb(7,"form",3,4),a.Tb(9,"div"),a.Tb(10,"mat-form-field",5),a.Tb(11,"mat-label",6),a.Jc(12,"Benutzer"),a.Sb(),a.Ob(13,"input",7),a.Sb(),a.Sb(),a.Tb(14,"div"),a.Tb(15,"mat-form-field",5),a.Tb(16,"mat-label",8),a.Jc(17,"Passwort"),a.Sb(),a.Ob(18,"input",9),a.Tb(19,"button",10),a.bc("click",(function(){return t.hidePwd=!t.hidePwd})),a.Tb(20,"mat-icon"),a.Jc(21),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(22,"div"),a.Tb(23,"button",11),a.bc("click",(function(){return t.onSubmit("login")})),a.Hc(24,f,1,0,"span",12),a.Jc(25," Anmelden "),a.Sb(),a.Tb(26,"a",13),a.Jc(27,"Kein Login? Registrieren.."),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(28,"button",14),a.bc("click",(function(){return t.onSubmit("guest")})),a.Hc(29,p,1,0,"span",12),a.Jc(30," Als Gast spielen "),a.Sb(),a.Sb()),2&e){const e=a.uc(8);a.Bb(13),a.lc("ngModel",t.user.username),a.Bb(5),a.lc("type",t.hidePwd?"password":"text")("ngModel",t.user.password),a.Bb(1),a.Cb("aria-label","Hide password")("aria-pressed",t.hidePwd),a.Bb(2),a.Kc(t.hidePwd?"visibility_off":"visibility"),a.Bb(2),a.lc("disabled",!e.valid),a.Bb(1),a.lc("ngIf",t.loading),a.Bb(5),a.lc("ngIf",t.loading)}},directives:[s.a,s.f,s.c,s.m,s.d,l.F,l.r,l.s,d.c,d.g,m.a,l.c,l.q,l.t,l.B,b.b,d.j,v.a,u.t,r.g],styles:["body[_ngcontent-%COMP%]{background-color:#dfdbe5;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")}.login[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.login-card[_ngcontent-%COMP%]{max-width:30em}.register-link[_ngcontent-%COMP%]{margin-left:2em}.mat-card-title[_ngcontent-%COMP%]{font-size:40px;padding-bottom:10px}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:20px}.mat-card-header[_ngcontent-%COMP%]{margin-bottom:15px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{margin-top:15px}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:400px}.glider-animated[_ngcontent-%COMP%]{background-image:url(gliderAnimated.7c6121f5d6c7889c63bf.gif);background-size:cover}"]}),e})();var S=n("mrSG"),w=n("iELJ"),M=n("VDRc"),T=n("0ap7");const B=["form"];function P(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Benutzernamen ist erforderlich "),a.Sb())}function y(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Benutzernamen muss mindestens 3 Zeichen enthalten "),a.Sb())}function C(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Benutzernamen darf maximal 20 Zeichen enthalten "),a.Sb())}function x(e,t){if(1&e){const e=a.Ub();a.Tb(0,"mat-form-field",10),a.Tb(1,"mat-label"),a.Jc(2,"Benutzer"),a.Sb(),a.Tb(3,"input",11,12),a.bc("ngModelChange",(function(t){return a.xc(e),a.fc().user.username=t})),a.Sb(),a.Tb(5,"mat-hint",13),a.Jc(6),a.Sb(),a.Hc(7,P,2,0,"mat-error",14),a.Hc(8,y,2,0,"mat-error",14),a.Hc(9,C,2,0,"mat-error",14),a.Sb()}if(2&e){const e=a.uc(4),t=a.fc(),n=a.uc(9);a.Bb(3),a.lc("ngModel",t.user.username)("errorStateMatcher",t.matcher),a.Bb(3),a.Lc("",(null==t.user.username?null:t.user.username.length)||0,"/20"),a.Bb(1),a.lc("ngIf",e.dirty&&n.invalid),a.Bb(1),a.lc("ngIf",e.hasError("minlength")),a.Bb(1),a.lc("ngIf",e.hasError("maxlength"))}}function I(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Bitte eine g\xfcltige eMail Adresse eingeben "),a.Sb())}function O(e,t){if(1&e){const e=a.Ub();a.Tb(0,"mat-form-field",10),a.Tb(1,"mat-label"),a.Jc(2,"eMail"),a.Sb(),a.Tb(3,"input",15,16),a.bc("ngModelChange",(function(t){return a.xc(e),a.fc().user.email=t})),a.Sb(),a.Hc(5,I,2,0,"mat-error",14),a.Sb()}if(2&e){const e=a.uc(4),t=a.fc();a.Bb(3),a.lc("ngModel",t.user.email),a.Bb(2),a.lc("ngIf",e.dirty&&e.invalid)}}function H(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Bitte Verifizierungs Code eingeben "),a.Sb())}function k(e,t){if(1&e&&(a.Tb(0,"mat-form-field",10),a.Tb(1,"mat-label"),a.Jc(2,"Code"),a.Sb(),a.Ob(3,"input",17,18),a.Tb(5,"mat-hint"),a.Jc(6,"Wir haben den Verifizierungscode an deine eMail Adresse verschickt"),a.Sb(),a.Hc(7,H,2,0,"mat-error",14),a.Sb()),2&e){const e=a.uc(4);a.Bb(7),a.lc("ngIf",e.dirty&&e.invalid)}}function J(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Passwort ist erforderlich "),a.Sb())}function _(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Passwort muss mindestens 8 Zeichen enthalten "),a.Sb())}function E(e,t){1&e&&(a.Tb(0,"mat-error"),a.Jc(1," Passwort darf maximal 20 Zeichen enthalten "),a.Sb())}function V(e,t){if(1&e){const e=a.Ub();a.Tb(0,"mat-form-field",10),a.Tb(1,"mat-label"),a.Jc(2,"Passwort"),a.Sb(),a.Tb(3,"input",19,20),a.bc("ngModelChange",(function(t){return a.xc(e),a.fc().user.password=t})),a.Sb(),a.Tb(5,"mat-hint",13),a.Jc(6),a.Sb(),a.Tb(7,"button",21),a.bc("click",(function(){a.xc(e);const t=a.fc();return t.hidePwd=!t.hidePwd})),a.Tb(8,"mat-icon"),a.Jc(9),a.Sb(),a.Sb(),a.Hc(10,J,2,0,"mat-error",14),a.Hc(11,_,2,0,"mat-error",14),a.Hc(12,E,2,0,"mat-error",14),a.Ob(13,"password-strength-meter",22),a.Sb()}if(2&e){const e=a.uc(4),t=a.fc();a.Bb(3),a.lc("type",t.hidePwd?"password":"text")("ngModel",t.user.password)("errorStateMatcher",t.matcher),a.Bb(3),a.Lc("",(null==t.user.password?null:t.user.password.length)||0,"/20"),a.Bb(1),a.Cb("aria-label","Hide password")("aria-pressed",t.hidePwd),a.Bb(2),a.Kc(t.hidePwd?"visibility_off":"visibility"),a.Bb(1),a.lc("ngIf",e.hasError("required")),a.Bb(1),a.lc("ngIf",e.hasError("minlength")),a.Bb(1),a.lc("ngIf",e.hasError("maxlength")),a.Bb(1),a.lc("password",e.value)("enableFeedback",!0)}}function N(e,t){1&e&&(a.Tb(0,"small",23),a.Jc(1," Das Passwort muss 8-20 Zeichen lang sein, Buchstaben und Zahlen und darf keine Leerzeichen enthalten. "),a.Sb())}function A(e,t){1&e&&a.Ob(0,"span",26)}function L(e,t){if(1&e&&(a.Tb(0,"button",24),a.Hc(1,A,1,0,"span",25),a.Jc(2," Registrieren "),a.Sb()),2&e){const e=a.fc(),t=a.uc(9);a.lc("disabled",!t.valid||e.loading),a.Bb(1),a.lc("ngIf",e.loading)}}function F(e,t){1&e&&a.Ob(0,"span",26)}function q(e,t){if(1&e&&(a.Tb(0,"button",24),a.Hc(1,F,1,0,"span",25),a.Jc(2," Validieren "),a.Sb()),2&e){const e=a.fc(),t=a.uc(9);a.lc("disabled",!t.valid||e.loading),a.Bb(1),a.lc("ngIf",e.loading)}}class U{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}const j=[{path:"login",component:z},{path:"register",component:(()=>{class e{constructor(e,t,n,r,a,o){this.formBuilder=e,this.route=t,this.router=n,this.authService=r,this.notificationService=a,this.dialog=o,this.user=new i.a,this.loading=!1,this.hidePwd=!0,this.submitted=!1,this.matcher=new U,this.validationMode=!1}ngOnInit(){}onSubmit(){return Object(S.b)(this,void 0,void 0,(function*(){this.validationMode||(console.log(this.form.value),this.submitted=!0,this.loading=!0,this.authService.register(this.form.controls.username.value,this.form.controls.password.value,this.form.controls.email.value).subscribe(()=>{this.loading=!1,this.authService.verify(this.user.username,this.form.controls.code.value.toString()).then(()=>{this.router.navigate(["/login"]).then(e=>{e&&this.notificationService.info("Benutzer Registrierung abgeschlossen")}).catch(()=>{this.notificationService.error("Verifizierung fehlgeschlagen. Falscher Code")})})},e=>{console.log("error signing up:",e),this.loading=!1;let t="unbekannt";switch(e.code){case"NetworkError":t="Keine Verbindung zum Internet";break;case"UserNotFoundException":t="Benutzer oder Passwort falsch";break;case"UsernameExistsException":t="Benutzername wird schon verwendet"}this.notificationService.error("Fehler beim Registrieren: "+t)}))}))}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(l.f),a.Nb(r.a),a.Nb(r.d),a.Nb(c.a),a.Nb(h.a),a.Nb(w.b))},e.\u0275cmp=a.Hb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&a.Dc(B,!0),2&e&&a.tc(n=a.cc())&&(t.form=n.first)},decls:24,vars:7,consts:[["fxLayout","column","fxLayoutAlign","space-around stretch",1,"registerCard"],["mat-card-avatar","",1,"glider-animated"],["novalidate","",3,"ngSubmit"],["form","ngForm"],[1,"form-element"],["appearance","fill",4,"ngIf"],["id","passwordHelpBlock","class","form-text text-muted",4,"ngIf"],[1,"form-group"],["mat-raised-button","","type","submit","color","primary",3,"disabled",4,"ngIf"],["mat-raised-button","","routerLink","../login",1,"cancel-button"],["appearance","fill"],["matInput","","ngModel","","type","text","name","username","placeholder","Benutzer","required","","minlength","3","maxlength","20",3,"ngModel","errorStateMatcher","ngModelChange"],["username","ngModel"],["align","end"],[4,"ngIf"],["matInput","","ngModel","","type","text","name","email","placeholder","eMail","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["email","ngModel"],["matInput","","ngModel","","type","number","name","code","placeholder","code","required",""],["code","ngModel"],["matInput","","ngModel","","name","password","placeholder","Passwort","required","","minlength","8","maxlength","20",3,"type","ngModel","errorStateMatcher","ngModelChange"],["password","ngModel"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[3,"password","enableFeedback"],["id","passwordHelpBlock",1,"form-text","text-muted"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(a.Tb(0,"mat-card",0),a.Tb(1,"mat-card-header"),a.Ob(2,"div",1),a.Tb(3,"mat-card-title"),a.Jc(4,"Game Of Life"),a.Sb(),a.Tb(5,"mat-card-subtitle"),a.Jc(6,"Benutzer Registrierung"),a.Sb(),a.Sb(),a.Tb(7,"mat-card-content"),a.Tb(8,"form",2,3),a.bc("ngSubmit",(function(){return t.onSubmit()})),a.Tb(10,"div",4),a.Hc(11,x,10,6,"mat-form-field",5),a.Sb(),a.Tb(12,"div",4),a.Hc(13,O,6,2,"mat-form-field",5),a.Sb(),a.Tb(14,"div",4),a.Hc(15,k,8,1,"mat-form-field",5),a.Sb(),a.Tb(16,"div",4),a.Hc(17,V,14,12,"mat-form-field",5),a.Hc(18,N,2,0,"small",6),a.Sb(),a.Tb(19,"div",7),a.Hc(20,L,3,2,"button",8),a.Hc(21,q,3,2,"button",8),a.Tb(22,"a",9),a.Jc(23,"Abbrechen"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Bb(11),a.lc("ngIf",!t.validationMode),a.Bb(2),a.lc("ngIf",!t.validationMode),a.Bb(2),a.lc("ngIf",t.validationMode),a.Bb(2),a.lc("ngIf",!t.validationMode),a.Bb(1),a.lc("ngIf",!t.validationMode),a.Bb(2),a.lc("ngIf",!t.validationMode),a.Bb(1),a.lc("ngIf",t.validationMode))},directives:[s.a,M.f,M.e,s.f,s.c,s.m,s.l,s.d,l.F,l.r,l.s,u.t,b.a,r.g,d.c,d.g,m.a,l.c,l.q,l.t,l.B,l.m,l.l,d.f,d.b,l.x,l.w,b.b,d.j,v.a,T.a],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-card[_ngcontent-%COMP%]{max-width:200em}.cancel-button[_ngcontent-%COMP%]{margin-left:2em}.form-element[_ngcontent-%COMP%]{padding-bottom:.7em}.mat-card-title[_ngcontent-%COMP%]{font-size:3em;padding-bottom:.1em}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.5em}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:400px}.mat-card-header[_ngcontent-%COMP%]{margin-bottom:15px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{padding-top:10px}.glider-animated[_ngcontent-%COMP%]{background-image:url(gliderAnimated.7c6121f5d6c7889c63bf.gif);background-size:cover}"]}),e})()},{path:"",redirectTo:"login",pathMatch:"full"}];let D=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[r.h.forChild(j)],r.h]}),e})();var K=n("PCNd");let Z=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[D,T.b,K.a]]}),e})()}}]);